export interface GreenShape {
  type: 'svg' | 'polygon' | 'ellipse';

  // For SVG paths (from SVG import)
  svgPath?: string;  // e.g., "M 10,30 A 20,20 0,0,1 50,30 ..."

  // For GeoJSON polygon (from GeoJSON import)
  polygon?: Array<[number, number]>;  // Array of [x,y] coordinates

  // Fallback for legacy ellipse
  ellipse?: { rx: number; ry: number };

  // Optional: Bounding box for optimization
  bounds?: { minX: number; minY: number; maxX: number; maxY: number };

  // Optional: Fringe/apron path (separate from green)
  fringePath?: string;
  fringePolygon?: Array<[number, number]>;

  // Optional: Manual position offset (for fine-tuning centering)
  offsetX?: number;  // Horizontal offset in viewBox units
  offsetY?: number;  // Vertical offset in viewBox units

  // Optional: Real-world orthogonal dimensions
  // Greens captured at 350m elevation (orthogonal overhead view)
  // Stored as metadata only - NOT used for distance calibration
  realWorldDimensions?: {
    width: number;   // Real-world width in meters
    height: number;  // Real-world height in meters
    captureElevation?: number;  // Elevation in meters (e.g., 350)
  };
}

export interface HoleData {
  number: number;
  par: number;
  distance: number; // in metres
  greenShape?: GreenShape;  // Optional: falls back to default ellipse if not defined
}

export interface CourseData {
  id: string;
  name: string;
  holes: HoleData[];
}

export const NEANGAR_PARK: CourseData = {
  id: 'neangar-park',
  name: 'Neangar Park Golf Club',
  holes: [
    {
      number: 1,
      par: 4,
      distance: 367,
      greenShape: {
        type: 'svg',
        svgPath: 'M 49.26677781249998,134.51660375 C 24.41827781249998,153.20260374999998 -2.1535721875000213,135.13560375000003 -11.98347218750002,130.51660375 C -11.98347218750002,130.51660375 -24.47932218750002,115.26660375000002 -27.97895218750002,97.76660375000002 C -29.42417218750002,90.53960375000001 -32.03766218750002,72.81810374999999 -25.72904218750002,54.51010375 C -11.98347218750002,26.51010375 -9.23817218750002,37.26660375 2.51652781249998,1.2666037500000087 C 14.27122781249998,-34.73339625 54.761777812499986,-49.23339625 63.26677781249998,-51.483406249999994 C 71.77127781249997,-53.733406249999994 95.26177781249999,-61.98079625 117.76677781249998,-47.98339625 C 135.45077781249998,-34.543246249999996 136.51327781249998,-18.118446249999998 137.75177781249997,1.0381037500000048 L 137.76677781249998,1.2666037500000087 C 133.7712778125,41.01010375 105.27127781249999,29.26010375 94.02127781249997,61.51010375 C 88.33277781249998,77.81710375000002 79.02127781249997,81.26010375 72.77127781249997,99.01010375 C 66.52127781249997,116.76010375 57.23027781249998,128.52810375 49.26677781249998,134.51660375 Z',
        bounds: { minX: -32.03766218750002, minY: -61.98079625, maxX: 137.76677781249998, maxY: 153.20260374999998 },
        offsetX: 30,
        offsetY: 30 
      }
    },
    {
      number: 2,
      par: 4,
      distance: 303,
      greenShape: {
        type: 'svg',
        svgPath: 'M -9.623111785714322,81.09657142857142 C 1.3800882142856814,93.09307142857142 20.62698821428568,88.59657142857142 35.626988214285674,94.09657142857142 C 50.626988214285674,99.59657142857142 53.626988214285674,109.34657142857144 79.87698821428567,118.34657142857144 C 106.12698821428569,127.34657142857144 129.36948821428567,118.10307142857143 135.8734882142857,96.34957142857142 C 142.3769882142857,74.59657142857142 137.6269882142857,62.34657142857142 126.62348821428569,45.34957142857142 C 115.61948821428567,28.353071428571425 100.37698821428569,16.596371428571423 77.62348821428569,13.099671428571426 C 54.869988214285684,9.602971428571422 59.623488214285686,9.599671428571426 44.623488214285686,0.34967142857142264 C 29.62348821428568,-8.900328571428576 29.37348821428568,-26.900328571428577 7.1232882142856795,-24.150328571428577 C -15.12671178571432,-21.400328571428577 -20.87346178571432,-17.153628571428577 -27.87347178571432,15.096371428571423 C -34.87347178571432,47.34657142857142 -20.62631178571432,69.09957142857142 -9.623111785714322,81.09657142857142 Z',
        bounds: { minX: -34.87347178571432, minY: -26.900328571428577, maxX: 142.3769882142857, maxY: 127.34657142857144 },
        offsetX: 25,
        offsetY: 25 
      }
    },
    {
      number: 3,
      par: 3,
      distance: 137, 
      greenShape: {
        type: 'svg',
        svgPath: 'M -0.45778698648649474,96.32118932432434 C 5.405313013513506,122.60568932432432 20.701463013513504,134.99068932432434 26.631663013513503,135.36668932432434 C 80.5838130135135,138.78668932432433 66.5943130135135,119.31668932432433 81.9693130135135,94.88868932432433 C 82.7163130135135,93.70168932432432 83.4203130135135,92.47118932432431 84.0203130135135,91.20318932432434 C 89.4668130135135,79.68668932432433 95.3778130135135,70.93918932432433 99.88181301351351,63.11668932432433 C 105.6908130135135,53.027189324324326 116.0643130135135,49.15918932432433 120.17881301351352,13.00418932432433 C 120.50731301351351,10.115689324324329 120.25931301351349,7.175189324324329 119.4678130135135,4.37833932432433 C 114.0928130135135,-14.62306067567567 106.3628130135135,-32.687910675675674 79.1313130135135,-40.13586067567567 C 49.8808130135135,-48.136065675675674 46.88181301351351,-43.63586067567567 23.881663013513503,-24.635860675675673 C 4.388363013513505,-8.532710675675673 -6.844636986486495,16.54918932432433 -9.816776986486495,23.823189324324332 C -10.370776986486495,25.179189324324327 -10.745146986486494,26.59068932432433 -10.990956986486495,28.034689324324333 C -14.523218486486495,48.78268932432432 -16.773426986486495,67.10418932432432 -6.929086986486495,82.08118932432433 C -4.047736986486495,86.46518932432431 -1.599886986486494,91.20118932432433 -0.45778698648649474,96.32118932432434 Z',
        bounds: {"minX":-16.773426986486495,"minY":-48.136065675675674,"maxX":120.50731301351351,"maxY":138.78668932432433},
        offsetX: 30,
        offsetY: 30
      }
    },
    {
      number: 4,
      par: 5, 
      distance: 475, 
      greenShape: {
        type: 'svg',
        svgPath: 'M 105.65986461538463,96.33124288461538 C 113.90986461538463,80.58124288461538 114.40986461538463,43.08124288461538 108.40986461538463,26.831292884615387 L 108.33686461538463,26.634342884615386 C 102.39136461538465,10.530442884615383 100.07686461538464,4.262292884615384 78.66386461538464,-10.179007115384618 C 57.16386461538464,-24.679002115384616 50.659864615384635,-23.175967115384616 32.15986461538464,-19.668717115384617 C 13.659664615384642,-16.161457115384618 8.409664615384639,-9.677457115384616 -4.590335384615361,2.831292884615383 C -17.59031538461536,15.340042884615386 -25.33626038461536,45.33124288461538 -17.33626038461536,57.07274288461538 C -9.33628538461536,68.81374288461538 3.163914615384641,82.32274288461538 8.409664615384639,96.33124288461538 C 13.655414615384636,110.34024288461539 17.909664615384642,146.28924288461536 50.659864615384635,142.8312428846154 C 83.40986461538463,139.37324288461537 97.40986461538463,112.08124288461538 105.65986461538463,96.33124288461538 Z',
        bounds: {"minX":-25.33626038461536,"minY":-24.679002115384616,"maxX":114.40986461538463,"maxY":146.28924288461536},
        offsetX: 30,  
        offsetY: 25   
      }
    },
    {
      number: 5,
      par: 4, 
      distance: 388,
      greenShape: {
        type: 'svg',
        svgPath: 'M -5.977357200000036,93.40960860000003 C 6.272652799999964,121.90960860000003 10.518752799999966,147.4096086 54.01860279999997,141.1596086 C 97.51860279999997,134.9096086 107.01860279999997,105.40960860000003 109.76860279999997,93.40960860000003 C 112.51860279999997,81.40960860000003 110.76860279999997,68.65860860000002 105.26860279999997,50.65960860000003 C 99.76860279999997,32.66110860000002 109.76860279999997,15.65960860000002 99.76860279999997,-12.840191399999977 C 89.76860279999997,-41.340176399999976 54.02160279999997,-36.58880139999998 54.02160279999997,-36.58880139999998 C 54.02160279999997,-36.58880139999998 -2.231197200000036,-24.090191399999977 4.271602799999965,5.661008600000024 C 10.774402799999965,35.412108600000025 -2.481197200000036,50.65960860000003 -2.481197200000036,50.65960860000003 C -2.481197200000036,50.65960860000003 -18.227347200000036,64.90960860000003 -5.977357200000036,93.40960860000003 Z',
        bounds: {"minX":-18.227347200000036,"minY":-41.340176399999976,"maxX":112.51860279999997,"maxY":147.4096086},
        offsetX: 25,  
        offsetY: 25   
      }
    },
    { number: 6, 
      par: 4, 
      distance: 347,
      greenShape: {
        type: 'svg',
        svgPath: 'M 46.191752730769224,107.91720461538462 C 19.957252730769227,101.18220461538462 -37.337747269230775,84.91670461538462 -34.07234276923077,32.68270461538462 C -30.806937269230772,-19.55114038461538 35.959752730769225,-19.32849538461538 64.70825273076923,-16.322615384615382 C 93.45625273076922,-13.31674038461538 129.19025273076923,20.672854615384622 124.44175273076922,56.41720461538462 C 119.69325273076922,92.16120461538462 72.42675273076922,114.65170461538462 46.191752730769224,107.91720461538462 Z',
        bounds: {"minX":-37.337747269230775,"minY":-19.55114038461538,"maxX":129.19025273076923,"maxY":114.65170461538462},
        offsetX: 25,
        offsetY: 25
      }
     },
    { number: 7, par: 3, distance: 177,
      greenShape: {
        type: 'svg',
        svgPath: 'M 42.64953642857142,-10.252086964285693 C 29.401536428571426,-13.998901964285693 -4.350663571428573,-27.502936964285695 -16.599413571428574,-3.505986964285693 C -28.848213571428573,20.491013035714303 -19.598333571428576,29.239563035714305 -9.848863571428573,41.2365130357143 C -0.09941357142857399,53.23301303571431 12.401136428571427,54.48651303571431 15.901186428571428,61.73651303571431 C 19.401186428571428,68.98651303571431 11.401136428571427,81.98651303571431 25.901136428571427,116.98651303571431 C 40.40103642857142,151.98651303571432 63.15153642857143,145.4895130357143 75.40103642857143,143.48651303571432 C 87.65103642857143,141.4830130357143 111.39753642857143,115.5060130357143 113.89953642857144,95.99801303571431 C 116.40103642857143,76.48951303571431 125.14903642857142,50.994513035714306 116.14953642857144,24.74781303571431 C 112.48303642857142,14.055813035714305 101.89603642857142,0.31926303571430736 89.15103642857143,-4.763636964285693 C 70.60953642857143,-12.158236964285694 55.89753642857143,-6.505286964285693 42.64953642857142,-10.252086964285693 Z',
        bounds: {"minX":-28.848213571428573,"minY":-27.502936964285695,"maxX":125.14903642857142,"maxY":151.98651303571432},
        offsetX: 25,  
        offsetY: 20    
      }
    },
    { number: 8, par: 4, distance: 373,
      greenShape: {
        type: 'svg',
        svgPath: 'M 40.48004807692306,130.18943503846157 C -2.7696519230769354,129.93943503846157 -22.769726923076938,86.44543503846155 -19.519726923076938,42.445435038461554 C -16.269726923076938,-1.55446496153845 20.98494807692306,-47.30214996153845 60.98254807692307,-45.80215046153845 C 100.98004807692307,-44.30214996153845 122.97754807692306,5.437435038461551 121.23054807692307,46.437435038461544 C 119.48304807692307,87.43743503846154 83.73004807692307,130.43943503846157 40.48004807692306,130.18943503846157 Z',
        bounds: {"minX":-22.769726923076938,"minY":-47.30214996153845,"maxX":122.97754807692306,"maxY":130.43943503846157},
        offsetX: 25,  
        offsetY: 30   
      }
    },
    { number: 9, par: 5, distance: 430,
      greenShape: {
        type: 'svg',
        svgPath: 'M -10.86028967647058,15.811429411764713 C -10.110105176470581,49.561379411764705 -10.86095967647058,98.80637941176471 14.639034823529418,126.80637941176471 C 28.267534823529417,141.7713794117647 67.88833482352942,163.8063794117647 92.88833482352942,106.80637941176471 L 93.08383482352943,106.36037941176471 C 108.70633482352943,70.74237941176472 112.12733482352942,62.94187941176472 110.13833482352942,23.820379411764712 C 108.14083482352942,-15.464420588235289 76.89183482352942,-28.70297058823529 56.140834823529424,-33.21438558823529 C 35.38953482352942,-37.72580558823529 -11.610473676470582,-17.93857058823529 -10.86028967647058,15.811429411764713 Z',
        bounds: {"minX":-11.610473676470582,"minY":-37.72580558823529,"maxX":112.12733482352942,"maxY":163.8063794117647},
        offsetX: 30,  
        offsetY: 25   
      }
    },
    { number: 10, par: 3, distance: 144,
      greenShape: {
        type: 'svg',
        svgPath: 'M -4.6290341999999844,34.64289979999998 C -19.128284199999985,13.89309979999998 -7.131079199999984,-4.368400200000018 9.368915800000014,-13.864300200000017 C 25.868915800000018,-23.360180200000016 43.369065800000016,-17.36026520000002 61.369065800000016,-12.110250200000017 C 79.36906580000002,-6.860250200000017 85.36906580000002,12.639799799999984 91.61906580000002,19.885699799999983 C 97.86906580000002,27.13154979999998 112.48056580000002,38.00189979999998 120.11856580000003,64.13589979999998 C 127.7565658,90.26989979999998 108.61906580000002,111.13589979999999 90.87106580000001,119.1428998 C 73.12306580000002,127.15039979999999 61.87106580000001,127.1428998 41.12106580000002,120.6428998 C 20.371015800000016,114.1428998 10.868915800000014,82.38589979999998 8.370965800000015,72.64289979999998 C 5.873015800000015,62.90039979999999 9.870265800000016,55.39289979999998 -4.6290341999999844,34.64289979999998 Z',
        bounds: {"minX":-19.128284199999985,"minY":-23.360180200000016,"maxX":127.7565658,"maxY":127.15039979999999},
        offsetX: 30,  
        offsetY: 25   
      }
    },
    { number: 11, par: 5, distance: 473,
      greenShape: {
        type: 'svg',
        svgPath: 'M 7.769406250000005,2.6595265624999804 C 1.2694062500000038,22.157576562499983 -23.230593749999997,46.15967656249998 14.269406250000003,97.90967656249998 C 51.769506250000006,149.65967656249998 73.76950625,131.40967656249998 85.26950625,99.90967656249998 C 88.79250625,90.25867656249999 81.33750625,76.47667656249997 84.01950625,59.40917656249998 C 86.76950625,41.90917656249998 88.11700625,29.190726562499982 77.01950625,2.6595265624999804 C 61.019506250000006,-35.590473437500016 14.269406250000003,-16.838498437500018 7.769406250000005,2.6595265624999804 Z',
        bounds: {"minX":-23.230593749999997,"minY":-35.590473437500016,"maxX":88.79250625,"maxY":149.65967656249998},
        offsetX: 30,  
        offsetY: 30   
      }
    },
    { number: 12, par: 3, distance: 147,
      greenShape: {
        type: 'svg',
        svgPath: 'M 102.44182692307692,96.99319353846153 C 62.44182692307693,138.99319353846155 39.44282692307692,113.13819353846154 -13.308173076923076,79.24419353846153 C -66.05907307692307,45.34969353846154 -51.057523076923076,-13.680511461538462 5.9423269230769264,-10.430512461538463 C 62.94232692307692,-7.180511461538462 87.44332692307694,18.52889353846154 87.44332692307694,18.52889353846154 C 87.44332692307694,18.52889353846154 142.44182692307692,54.99319353846153 102.44182692307692,96.99319353846153 Z',
        bounds: {"minX":-66.05907307692307,"minY":-13.680511461538462,"maxX":142.44182692307692,"maxY":138.99319353846155},
        offsetX: 35,  
        offsetY: 25   
      }
    },
    { number: 13, par: 4, distance: 253,
      greenShape: {
        type: 'svg',
        svgPath: 'M 74.23122807692306,92.17664115384616 C 38.98092807692307,132.42664115384616 21.480978076923073,114.42664115384616 10.480978076923071,86.42664115384616 C -0.5190119230769286,58.426641153846155 2.7308030769230713,10.66959115384616 18.980578076923074,-1.080608846153842 C 35.230378076923074,-12.830773846153843 74.48022807692308,-9.831578846153842 88.23022807692308,8.418441153846157 C 101.98022807692308,26.66844115384616 109.48122807692306,51.926641153846155 74.23122807692306,92.17664115384616 Z',
        bounds: {"minX":-0.5190119230769286,"minY":-12.830773846153843,"maxX":109.48122807692306,"maxY":132.42664115384616},
        offsetX: 30,  
        offsetY: 30   
      }
    },
    { number: 14, par: 4, distance: 328,
      greenShape: {
        type: 'svg',
        svgPath: 'M 82.8268076923077,104.06077692307693 C 51.326807692307696,133.56077692307693 15.077007692307696,132.06077692307693 -9.922992307692308,90.31077692307693 C -34.92299230769231,48.56077692307693 1.0771576923076935,-7.2028730769230656 12.327107692307692,-14.702623076923064 C 23.57705769230769,-22.202373076923063 81.0773076923077,-48.68917307692307 103.8268076923077,2.3108269230769345 C 126.5768076923077,53.31077692307693 114.32630769230768,74.56077692307693 82.8268076923077,104.06077692307693 Z',
        bounds: {"minX":-34.92299230769231,"minY":-48.68917307692307,"maxX":126.5768076923077,"maxY":133.56077692307693},
        offsetX: 30,  
        offsetY: 30   
      }
    },
    { number: 15, par: 4, distance: 283,
      greenShape: {
        type: 'svg',
        svgPath: 'M 7.849880357142858,6.950222142857154 C -28.900119642857142,45.445472142857156 -12.900094642857141,97.20047214285715 1.599980357142858,108.95447214285716 C 16.10003035714286,120.70897214285715 68.34968035714286,145.45047214285717 97.09968035714286,105.95047214285715 C 125.84968035714286,66.45047214285715 115.09968035714286,23.950322142857154 93.34968035714286,6.9503221428571536 L 92.97418035714286,6.656522142857156 C 71.28918035714285,-10.294987857142846 44.38868035714286,-31.323427857142846 7.849880357142858,6.950222142857154 Z',
        bounds: {"minX":-28.900119642857142,"minY":-31.323427857142846,"maxX":125.84968035714286,"maxY":145.45047214285717},
        offsetX: 30,  
        offsetY: 25   
      }
    },
    { number: 16, par: 3, distance: 167,
      greenShape: {
        type: 'svg',
        svgPath: 'M 15.845592307692312,1.0798850000000009 C 8.095892307692313,21.569235 -4.904557692307687,60.592484999999996 5.096492307692312,100.57998500000001 C 15.097542307692313,140.566985 74.09669230769231,136.57998500000002 88.84669230769231,111.57998500000001 C 103.5961923076923,86.57998500000001 123.59569230769232,44.566985 101.5961923076923,3.0670350000000006 C 79.59669230769231,-38.432964999999996 23.59529230769231,-19.40947 15.845592307692312,1.0798850000000009 Z',
        bounds: {"minX":-4.904557692307687,"minY":-38.432964999999996,"maxX":123.59569230769232,"maxY":140.566985},
        offsetX: 25,  
        offsetY: 25   
      }
    },
    { number: 17, par: 5, distance: 459,
      greenShape: {
        type: 'svg',
        svgPath: 'M 9.134403125000006,-0.03360000000000518 C -30.633496874999995,14.317249999999994 -28.744646874999994,99.14585 10.061603125000005,134.26735 C 49.562753125,170.01735 86.310753125,167.01735 113.060753125,128.51735 C 139.81075312500002,90.01735 142.81075312500002,23.516949999999994 110.562253125,1.028099999999995 C 78.71625312500001,-21.180600000000005 73.926753125,-4.4119000000000055 13.619703125000008,-0.8637500000000049 C 12.111353125000008,-0.7750000000000057 10.555653125000006,-0.5464500000000054 9.134403125000006,-0.03360000000000518 Z',
        bounds: {"minX":-30.633496874999995,"minY":-21.180600000000005,"maxX":142.81075312500002,"maxY":170.01735},
        offsetX: 25,  
        offsetY: 20   
      }
    },
    { number: 18, par: 4, distance: 355,
      greenShape: {
        type: 'svg',
        svgPath: 'M 38.661089000000004,151.16607600000003 C 12.217839000000005,149.69707599999998 -24.776810999999995,114.417076 -17.368140999999994,89.71207600000001 C -17.056335999999995,88.672576 -16.548965999999997,87.67357600000001 -16.011575999999994,86.73007600000001 C 7.780039000000006,44.97657600000001 -8.797360999999995,25.671076000000014 -5.090610999999996,4.166076000000004 C 3.915339000000003,-25.71407399999999 22.580839000000005,-48.03332399999999 37.161089000000004,-60.572973999999995 C 65.461089,-84.912174 122.41108900000002,-62.57992399999999 134.411089,-34.831973999999995 C 146.411089,-7.083923999999996 123.66108900000002,6.166576000000006 123.66108900000002,32.916576000000006 C 128.161089,74.916576 112.89708900000001,80.94507600000001 103.661089,97.666576 C 82.92108900000001,135.216076 51.015589000000006,151.852576 38.661089000000004,151.16607600000003 Z',
        bounds: {"minX":-24.776810999999995,"minY":-84.912174,"maxX":146.411089,"maxY":151.852576},
        offsetX: 30,  
        offsetY: 30   
      }
    },
  ],
};

// Default course list - can be expanded later
export const COURSES: CourseData[] = [NEANGAR_PARK];

// Helper function to get hole data
export function getHoleData(courseId: string, holeNumber: number): HoleData | undefined {
  const course = COURSES.find(c => c.id === courseId);
  return course?.holes.find(h => h.number === holeNumber);
}

// Calculate course totals
export function getCourseTotals(courseId: string): { par: number; distance: number } {
  const course = COURSES.find(c => c.id === courseId);
  if (!course) return { par: 0, distance: 0 };

  return course.holes.reduce(
    (acc, hole) => ({
      par: acc.par + hole.par,
      distance: acc.distance + hole.distance,
    }),
    { par: 0, distance: 0 }
  );
}
